<template name="rooms">
	<div class="wrapper wrapper-content" style="padding-bottom:0px; padding-top:10px;">

		<div class="row">
			<div class="col-lg-8 col-lg-offset-2">
				<div class="ibox">
					<div class="ibox-title">
						<div class="row">
							<div class="col-sm-3">
								<h2>Games</h2>
							</div>
							<div class="col-sm-9">
								<form class="form-inline pull-right" id="game_form">
									<div class="form-group">
		                        	    <label>Game name</label>
		                        	    <input id="game_name" name="game_name" type="text" class="form-control required" aria-required="true" placeholder="Game name" minlength="5">
		                            </div>
		                            <div class="form-group">
		                        	    <label>Players number</label>
		                        	    <select id="players_number" name="players_number" class="form-control required" aria-required="true">
		                        	    	<option value="1">1</option>
		                        	    	<option value="2">2</option>
		                        	    	<option value="3">3</option>
		                        	    	<option value="4">4</option>
		                        	    </select>
		                            </div>
		                            <div class="form-group">
		                        	    <button id="create" type="submit" class="btn btn-primary" minlength="5">Create</button>
		                            </div>
								</form>
							</div>
						</div>
					</div>
					<div class="ibox-content">
						<table class="table">
							<thead>
								<tr>
									<th>Name</th>
									<th>Players</th>
									<th class="pull-right">Action</th>
								</tr>
							</thead>
							<tbody>
								{{#each rooms}}
									<tr>
										<td><h3 style="margin-top: 10px;">{{name}}</h3></td>
										<td>
											<h3 style="display: inline; float:left; margin-top: 15px;">{{current_players}} / {{players}}</h3>
											<div class="spiner-example" style="padding-top:0px; height:15px; float: left; margin-left: 50px; display:{{display}}">
				                        	    <div class="sk-spinner sk-spinner-chasing-dots">
				                        	        <div class="sk-dot1"></div>
				                        	        <div class="sk-dot2"></div>
				                        	    </div>
				                        	</div>
				                        </td>
										<td>
											{{#if loading}}
												<button class="btn btn-lg pull-right disabled" id="loading">Loading ...</button>
											{{else}}
												{{#if participating}}
													<button class="btn btn-lg btn-warning pull-right" id="leave">Leave</button>
													{{#if in_game}}
														<button class="btn btn-lg btn-success pull-right" id="reconnect">Reconnect</button>
													{{/if}}
												{{else}}
													<button class="btn btn-lg btn-primary pull-right {{can_participate}}" id="participate">Participate</button>
												{{/if}}
											{{/if}}
										</td>
									</tr>
								{{/each}}
							</tbody>
						</table>
					</div>
				</div>
			</div>
	    </div>

    </div>
</template>